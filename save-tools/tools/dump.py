#!/opt/local/bin/python3
# coding: utf-8

"""
dump.py

======

The MIT License (MIT)

Copyright (c) 2016 togenyan

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
"""

import struct
import argparse

youkai = {
    -1952990963: "NULL",
    430840389: "Chansin",
    1433098476: "Dazzabel",
    2064194986: "Papa Bolt",
    731412679: "Blazion",
    100285825: "Chummer",
    760461868: "Roughraff",
    -156353918: "Walkappa",
    -1175475131: "Jibanyan",
    -181735700: "Tattletell",
    -1476577832: "Noko",
    -273347645: "Komasan",
    -1565383843: "Mochismo",
    -1977899792: "Dulluma",
    -599719050: "Mad Mountain",
    -1535516234: "Negatibuzz",
    -1088131410: "Droplette",
    -1902716862: "Hungramps",
    -1594581756: "Buhu",
    -261752727: "Dismarelda",
    -1034708245: "Hidabat",
    1583282865: "Slimamander",
    693750311: "Slimamander",
    -1220714620: "Slimamander",
    1496530600: "Slimamander",
    775163454: "Slimamander",
    -1098181713: "Slimamander",
    -913562823: "Slimamander",
    1970514290: "Eyedra",
    41196004: "Eyedra",
    -1676669881: "Eyedra",
    635305769: "Sproink",
    546498988: "Hoggles",
    -336558852: "Tantrump",
    -1661488022: "Grumpus",
    43196873: "Meditatum",
    1972638047: "Shuter",
    -1684377485: "Crattoo",
    187002338: "Scarp",
    2082626932: "Gemble",
    484824209: "Zeybrow",
    -989689830: "Massiface",
    1544280480: "Massiface",
    -1068654945: "Clipso",
    1497681701: "Clipso",
    -2056589792: "Phantasmurai",
    476299162: "Phantasmurai",
    1801752332: "Phantasmurai",
    -184542545: "Phantasmurai",
    -2113459655: "Phantasmurai",
    453933955: "Phantasmurai",
    1812548373: "Phantasmurai",
    -2144995163: "Spooklunk",
    422357279: "Spooklunk",
    1848351113: "Spooklunk",
    -263254998: "Spooklunk",
    -2025308996: "Spooklunk",
    507604230: "Spooklunk",
    1766219152: "Spooklunk",
    949592000: "Tarantutor",
    -1584345478: "Tarantutor",
    -694681876: "Tarantutor",
    1223912271: "Tarantutor",
    168327543: "McKraken",
    -1828640563: "McKraken",
    1183293895: "ラスボス（変身前）イカ足1",
    830509393: "ラスボス（変身前）イカ足2",
    -1344011022: "ラスボス（変身前）イカ足3",
    -656198556: "ラスボス（変身前）イカ足4",
    1105880542: "ラスボス（変身前）イカ足5",
    -1296818670: "McKraken",
    733826984: "McKraken",
    1555726142: "McKraken",
    -1025578339: "McKraken",
    -1244014069: "McKraken",
    751864753: "McKraken",
    1540864807: "McKraken",
    -1208285033: "Squisker",
    787634477: "Squisker",
    1509255611: "Squisker",
    -946734056: "Squisker",
    -1332294514: "Squisker",
    698326324: "Squisker",
    1587064226: "Squisker",
    -1610501636: "Wobblewok",
    956883014: "Wobblewok",
    1309659344: "Wobblewok",
    -798276237: "Wobblewok",
    -1486064155: "Wobblewok",
    415094425: "Duwheel",
    -2118875357: "Duwheel",
    -155994187: "Duwheel",
    1758929430: "Duwheel",
    533729920: "Duwheel",
    -2032581830: "Duwheel",
    499123851: "Big Box",
    -1921049830: "Li'l Box",
    1632088354: "Slimamander",
    373326260: "Slimamander",
    -1890988018: "Slimamander",
    -129048424: "Slimamander",
    1714058555: "Slimamander",
    288179629: "Slimamander",
    -2010901481: "Slimamander",
    2019328099: "Slimamander",
    257667317: "Slimamander",
    -1772953265: "Slimamander",
    -514469415: "Sproink",
    2133935226: "Sproink",
    1399968672: "SV Snaggerjag",
    86733862: "Phantasmurai",
    -1181589388: "Phantasmurai",
    547041742: "Phantasmurai",
    1469841752: "Phantasmurai",
    -1295227172: "Phantasmurai",
    1915503792: "Phantasmurai",
    -349891318: "Phantasmurai",
    -1675483748: "Phantasmurai",
    38187071: "Phantasmurai",
    -1389871177: "Pandle",
    575323410: "Pandle",
    874606093: "Undy",
    -582825160: "Tanbo",
    -1625400011: "Cutta-nah",
    102173839: "Cutta-nah-nah",
    -277567046: "Slacka-slash",
    -2046464908: "Mochismo",
    1709885378: "Mochismo",
    520895950: "Minochi",
    -918226253: "Helmsman",
    1347267337: "Reuknight",
    -1861415795: "Reuknight",
    659200927: "Corptain",
    -496391824: "Blazion",
    2069952714: "Quaken",
    208128092: "Siro",
    -799028238: "Chansin",
    1230412360: "Sheen",
    1045539550: "Snee",
    -1607123075: "Gleam",
    2095744254: "Benkei",
    -438053564: "B3-NK1",
    430150624: "Sushiyama",
    1856283510: "Kapunki",
    134503735: "Kapunki",
    -76376015: "Beetler",
    1652279691: "Beetall",
    360511773: "Cruncha",
    1710339519: "Zerberker",
    705015889: "Zerberker",
    -50797563: "Snartle",
    -1719269241: "Snartle",
    9394493: "Snartle",
    2005428651: "Snartle",
    -370344952: "Snartle",
    -1242471231: "Snotsolong",
    754464123: "Duchoo",
    -1393928832: "Wazzat",
    904070202: "Dummkap",
    860662292: "D'wanna",
    1145805442: "N'more",
    -1544308859: "Q'wit",
    -2016999869: "Lafalotta",
    516839417: "Blips",
    -778198587: "Tattletell",
    1217720447: "Tattlecast",
    1066647785: "Skranny",
    -1629735166: "Cupistol",
    131425976: "Casanuva",
    -290012275: "Casanono",
    -475282617: "Signibble",
    2057474813: "Signiton",
    -1816053816: "Statiking",
    -89067002: "Mirapo",
    1673110460: "Mircle",
    2099834569: "Illoo",
    -467550349: "Elloo",
    -1826189339: "Alloo",
    731246946: "Espy",
    1553121780: "Infour",
    -1288002006: "Tengu",
    708048784: "Flengu",
    -1212687720: "Kyubi",
    784239394: "Frostail",
    -1364399143: "Dulluma",
    933608035: "Darumacho",
    -557441194: "Goruma",
    -740614244: "Noway",
    1255296550: "Impass",
    2130931105: "Impass",
    -1548621037: "Walldin",
    -504529634: "Armsman",
    2125216423: "Fidgephant",
    -408589539: "Touphant",
    -893374755: "Blowkade",
    1405714279: "Ledballoon",
    -118076321: "Mad Mountain",
    1644109285: "Lava Lord",
    -459117669: "Roughraff",
    -1062735695: "Roughraff",
    2108373537: "Badude",
    -1817879795: "Bruff",
    -513279998: "Bruff",
    2137936016: "Rhinoggin",
    -429457110: "Rhinormous",
    -1855966788: "Hornaplenty",
    -2005204739: "Castelius III",
    371168606: "Castelius II",
    1629005256: "Castelius I",
    -463421986: "Castelius I",
    -133041038: "Castelius Max",
    -315484189: "Robonyan",
    -1707792523: "Goldenyan",
    -1233801041: "Dromp",
    796713237: "Swosh",
    -1667593893: "Dazzabel",
    93575393: "Rattelle",
    -319783468: "Skelebella",
    -1351712274: "Cadin",
    912773204: "Cadable",
    -553355935: "Singcada",
    -114022808: "Pupsicle",
    1614641106: "Chilhuahua",
    389695300: "Swelterrier",
    -1655118996: "Jibanyan",
    72463062: "Thornyan",
    1935049280: "Baddinyan",
    -770083413: "Walkappa",
    1259349009: "Appak",
    1008145543: "Supyo",
    -889043734: "Komasan",
    1376458064: "Komane",
    -1772042092: "Komane",
    621553094: "Komajiro",
    -1150767003: "Komiger",
    -930705276: "Baku",
    479643767: "Baku",
    1368375614: "Whapir",
    -446692948: "Shmoopie",
    2087276566: "Pinkipoo",
    258578734: "Pinkipoo",
    191783040: "Pookivil",
    1681121160: "Frostina",
    -46494158: "Blizzaria",
    -1975664988: "Damona",
    -833793425: "Wiglin",
    1464075221: "Steppa",
    541274947: "Rhyth",
    -842430975: "Wantston",
    1421924283: "Grubsnitch",
    -1440639125: "Hungramps",
    858310353: "Hungorge",
    1143993927: "Grainpa",
    -1723722692: "Grainpa",
    -7037: "Lodo",
    -1996958699: "Chippa",
    -682204370: "Enerfly",
    1314861716: "Enefly",
    962068994: "Betterfly",
    -1489201247: "Peppillon",
    -59035411: "Happierre",
    1701994839: "Reversa",
    -1613331265: "Reversa",
    309678529: "Reversette",
    2078485538: "Ol' Saint Trick",
    -487948904: "Ol' Fortune",
    1740049382: "Rollen",
    -1454658852: "Rollen",
    -21079460: "Dubbles",
    -1292317667: "Papa Bolt",
    737254823: "Uncle Infinite",
    1660427619: "Mama Aura",
    -68072231: "Auntie Heart",
    -1714053154: "Leadoni",
    138903489: "Leadoni",
    14470756: "Mynimo",
    -1411121828: "Ake",
    854240486: "Payn",
    -611776045: "Agon",
    -2133938529: "Negatibuzz",
    891770481: "Negatibuzz",
    432537381: "Moskevil",
    -257664496: "Scritchy",
    -2105012026: "Dimmy",
    461455740: "Blandon",
    1820750314: "Nul",
    -421210686: "Hidabat",
    2146272376: "Abodabat",
    1195756528: "Abodabat",
    149599470: "Belfree",
    1635567885: "Suspicioni",
    -1000139314: "Suspicioni",
    -126510921: "Tantroni",
    -1888311263: "Contrarioni",
    2020079692: "Tengloom",
    -117228418: "Tengloom",
    258001114: "Nird",
    -38184230: "Negasus",
    1689258848: "Neighfarious",
    -1317267341: "Timidevil",
    -565405110: "Timidevil",
    678775241: "Beelzebold",
    1601337695: "Count Cavity",
    -1469634254: "Greesel",
    829323400: "Awevil",
    -2055096294: "Coughkoff",
    478734752: "Hurchin",
    -694941415: "Peckpocket",
    -1167612975: "Peckpocket",
    1335711907: "Rockabelly",
    -2075930067: "Buhu",
    -478235284: "Buhu",
    491422615: "Flumpy",
    1783476993: "Skreek",
    -2129869656: "Manjimutt",
    403019026: "Multimutt",
    -244961241: "Sir Berus",
    -388910039: "Sir Berus",
    -1684856441: "Droplette",
    43675709: "Drizzle",
    1973239979: "Slush",
    -335948536: "Alhail",
    -1661016674: "Gush",
    -812697512: "Chatalie",
    1451649506: "Nagatha",
    -724388032: "Dismarelda",
    1022611839: "Dismarelda",
    1664776020: "Cheeksqueek",
    -97310994: "Cuttincheez",
    -1329696188: "Compunzer",
    699868158: "Lamedian",
    2020518328: "Lamedian",
    2049000981: "Grumples",
    -483911761: "Everfore",
    -1808849095: "Eterna",
    -1448787195: "Insomni",
    25017909: "Insomni",
    816583359: "Sandi",
    -2092270863: "Noko",
    440609611: "Bloominoko",
    1833180125: "Pandanoko",
    -1743260183: "Heheheel",
    18785363: "Croonger",
    1981387973: "Urnaconda",
    -720315017: "Fishpicable",
    1276742861: "Rageon",
    -1518720520: "Tunatic",
    -1705948240: "Draggie",
    56105482: "Dragon Lord",
    1952393884: "Azure Dragon",
    -533784791: "Daiz",
    2032551571: "Confuze",
    -871633866: "Chummer",
    1426242956: "Shrook",
    -416890891: "Spenp",
    -1876848797: "Almi",
    -1516896620: "Almi",
    -29520204: "Babblong",
    1731518222: "Bananose",
    2040894075: "Copperled",
    -1750338729: "Cynake",
    -525548607: "Slitheref",
    809696102: "Slitheref",
    1623106362: "Venoct",
    255837803: "Venoct",
    -105385344: "Shad. Venoct",
    -1172283570: "Shogunyan",
    608488173: "Komashura",
    -1556386289: "Dandoodle",
    1029700524: "Elder Bloom",
    -2011808308: "Gilgaros",
    1950041689: "Sapphinyan",
    -461087800: "Emenyan",
    -1820103842: "Rubinyan",
    -1524742851: "Topanyan",
    54294223: "Dianyan",
    -950555893: "Slimamander",
    -178140791: "Sproink",
    1928975686: "SV Snaggerjag",
    1810031623: "Massiface",
    -1142803079: "Phantasmurai",
    1016959387: "Tarantutor",
    -1982572549: "Dr. Maddiman",
    -544280451: "McKraken",
    -963264196: "McKraken",
    -190602306: "Duwheel",
    1791440413: "Chirpster",
    -327485240: "Eyedra",
    1795513386: "Hoggles",
    -325238555: "Styx Mk.VI",
    -175738460: "Clipso",
    397460056: "Dr. Nogut",
    629579994: "Spooklunk",
    1492210847: "Squisker",
    -306670849: "Wobblewok",
    1780518448: "Gargaros",
    -215359606: "Ogralus",
    -2077298916: "Orcanos",
}

items = {
    -2143783253: "Gambler Trophy",
    -2134591533: "Deluxe Ramen",
    -2132816250: "Stag Trophy",
    -2105407094: "Spiritizer Y",
    -2098124759: "Think Karate",
    -2093792738: "Cursed Blade",
    -2092932163: "Double Burger",
    -2075538591: "Baguette",
    -2074180089: "Holy Blade",
    -2054446762: "Roe Rice Ball",
    -2053313488: "Get Guarding",
    -2045807304: "Giant Cracker",
    -2024426830: "Flutter Trophy",
    -2018375009: "Cloak Trophy",
    -2017651843: "Thermometer",
    -2016600305: "Fruit Milk",
    -2005990109: "Silver Doll",
    -1989573971: "Darkness Trophy",
    -1985122540: "Top Techniques",
    -1976976518: "Medium Exporb",
    -1974947208: "Golden Tofu",
    -1973773607: "Crab Omelet",
    -1931314799: "Spirit Talisman",
    -1927277658: "Bitter Medicine",
    -1926924703: "Refreshing Herbs",
    -1915343204: "★Catfish",
    -1911857322: "Noko Dirt",
    -1901803576: "Staminum Alpha",
    -1839025677: "★Firefly",
    -1823243463: "Signiton Engine",
    -1818174524: "★Red Snapper",
    -1798496291: "★Carp",
    -1794148886: "★Sawtooth Stag",
    -1760530921: "Super Badge",
    -1725741078: "Glasses Trophy",
    -1715142713: "Dragon Trophy",
    -1714690523: "Cracked Plate",
    -1709795345: "★Firefly Squid",
    -1708625057: "Platinum Bar",
    -1702248580: "Red Coin",
    -1680540200: "★Ladybug",
    -1679156888: "Support Life #7",
    -1656375482: "Dragon Orb",
    -1645970587: "Green Coin",
    -1639021581: "Heart Trophy",
    -1633279428: "Detective Badge EX",
    -1633076258: "Eel Trophy",
    -1605053583: "Rhino Beetle",
    -1599632500: "Ruby Bell",
    -1596487682: "Marbled Beef",
    -1592398391: "Choice Tuna",
    -1587158597: "Yo-kai Medallium",
    -1583957690: "Carp",
    -1567540825: "Matsutake",
    -1509415518: "Museum Ticket",
    -1474424355: "Emerald",
    -1474235027: "Red Snapper",
    -1466228892: "Armor Charm",
    -1453755053: "Hermes Badge",
    -1444765862: "Praying Mantis",
    -1430663688: "Venoct Gauntlet",
    -1428315843: "Illusion Ring",
    -1424677528: "Mane Trophy",
    -1423979766: "Brute Bracer",
    -1417959473: "Tengu Fan",
    -1407818794: "Spell Bell",
    -1401364111: "Papa Trophy",
    -1399511687: "Dancing Star",
    -1386786994: "Fish Bait",
    -1380948700: "Water Ring",
    -1378612767: "Die of Fate",
    -1349339208: "Monkey Circlet",
    -1342776451: "Flood Charm",
    -1325814245: "★Rhino Beetle",
    -1325064036: "Crystal Shard",
    -1321483220: "★Black Bass",
    -1307700183: "Precious Earring",
    -1293503002: "Ultra Det. Badge",
    -1261487968: "Sleepillow",
    -1251749840: "Forever Flower",
    -1249152513: "Empty Bottle",
    -1234639739: "Blank Charm",
    -1199648518: "Watch Cog",
    -1198684153: "Catfish",
    -1185947088: "Ladybug",
    -1153660509: "Sapphire Coin",
    -1135522374: "Excitement Coin",
    -1105058263: "Firefly",
    -1089268509: "Dad's Papers",
    -1075819490: "Marlin",
    -1049635821: "Ruby",
    -1039506943: "Reflector",
    -1033576282: "Slither Trophy",
    -1030995607: "Battered Boots",
    -1010300874: "Crystal Ball",
    -989256513: "Time Capsule",
    -975075984: "Bulletin Note",
    -972943350: "Clenzall",
    -969083718: "★Giant Huchen",
    -939614579: "★Dorcus Stag",
    -938204043: "Special Ring",
    -924353400: "Jellyfish",
    -920316225: "Swallowtail",
    -883524308: "Five-Star Coin",
    -868501195: "Emerald Coin",
    -834088282: "★Green Cicada",
    -814096276: "Bicycle",
    -812992367: "Rockfish",
    -801232898: "Green Cicada",
    -792890511: "Chicken Thigh",
    -787540684: "Fishing Rod",
    -780199610: "Dried Mackerel",
    -771994167: "Turtle",
    -755249880: "Carrot",
    -698166995: "Yo-kai Watch",
    -695105072: "Sweetfish",
    -682368025: "Dorcus Stag",
    -677332198: "Emerald Bell",
    -661289170: "Guard Gem",
    -655234069: "Blaze Charm",
    -625519182: "Fire Ring",
    -623691401: "Sleep 'n' Study",
    -619621568: "Beefy Bell",
    -612380185: "Tengu Trophy",
    -602794498: "Hood Trophy",
    -602342500: "Rocker Wrist",
    -595814567: "Big Bottle",
    -574685842: "Ancient Scale",
    -572878421: "Pretty Ring",
    -564247099: "Shiny Badge",
    -555372596: "Locust",
    -552001205: "Drop of Joy",
    -551041541: "Cowfish",
    -543412238: "Runic Charm",
    -535339391: "KD Note",
    -502774404: "★Grasshopper",
    -482773066: "Yo-kai World Key",
    -480966696: "Light-Blue Coin",
    -473288885: "★Sweetfish",
    -464211025: "Shack Key",
    -458757294: "★Cowfish",
    -446332571: "★Swallowtail",
    -411729030: "Cyclops Trophy",
    -381045915: "Master Trophy",
    -375319894: "Busted Bucket",
    -374469816: "Toothpick Trophy",
    -364738608: "Holy Water",
    -354202637: "Pink Coin",
    -320001538: "Support Special",
    -317610119: "★Anglerfish",
    -315669559: "Ageless Powder",
    -299600004: "Buzz Trophy",
    -289157295: "Seaweed Trophy",
    -288565581: "Munched Cucumber",
    -263028188: "Shogun Trophy",
    -256558583: "Lion Trophy",
    -256236565: "Principal Photo",
    -255184999: "Coffee Milk",
    -251116114: "Gooey Candy",
    -225668672: "Leaf Rice Ball",
    -224666458: "Guard Gloriously",
    -212927497: "Custard Bread",
    -212224367: "Glacial Clip",
    -197889400: "General's Soul",
    -196652245: "Cheeseburger",
    -175818468: "Soul Tea",
    -168421185: "Use Karate",
    -161119817: "Candy Apple",
    -146848195: "Good Job Prize",
    -138180795: "Pork Ramen",
    -136845326: "Composer Portrait",
    -136774128: "Stylish Trophy",
    -116625472: "Detective Badge",
    -98416905: "Love Poetry",
    -98098384: "Mighty Medicine",
    -86958582: "★Rockfish",
    -68859641: "Defense Talisman",
    -47281172: "Large Exporb",
    -45120786: "Shabby Charm",
    -44193201: "Liver & Chives",
    -26299845: "Beetle Trophy",
    -22388862: "Soul Secrets",
    -9947723: "Golden Doll",
    2758224: "Kimono Trophy",
    12760991: "Detective Badge+",
    13479549: "Shell Trophy",
    48449746: "The Perfect Pest",
    52503269: "Buff Weight",
    58781382: "Yellow Coin",
    75586225: "Tasty Mushroom",
    82651871: "Blue Coin",
    122147401: "Guardian Trophy",
    127953508: "Shark Trophy",
    128938886: "Old Magazine",
    173724291: "Sheet Music",
    178883198: "★Jellyfish",
    191619145: "★Flower Scarab",
    201729104: "★Locust",
    221714074: "Payn Oil",
    230968935: "★Mackerel",
    234531543: "Venoct Aura",
    250715746: "Bottle Trophy",
    279199406: "Hidden Hits",
    291919001: "Bronze Doll",
    320924352: "Small Exporb",
    323085250: "Walkappa's Bottle",
    338248220: "Nasty Medicine",
    338438107: "Toy Missile",
    339611514: "Chili Shrimp",
    340602585: "Holy Exporb",
    350329750: "Snowstorm Cloak",
    354677153: "Bye, Li'l Angel",
    367732779: "Strength Talisman",
    376437829: "Getaway Plush",
    397252210: "Staminum",
    401256227: "Daze Trophy",
    409723035: "Fruit Drops",
    422651665: "Wannabe Trophy",
    430541484: "Amazing Milk",
    433495868: "Cupid Trophy",
    433686238: "Yo-kai Guide",
    439180994: "Blehgel",
    440013732: "Legendary Blade",
    468661493: "Shrimp Rice Ball",
    469268883: "A Serious Life",
    479575434: "Skill Encycloped.",
    484875305: "VoltXtreme",
    488961566: "Nom Burger",
    492296125: "GHz Orb",
    496659440: "Betrayed Blade",
    509403912: "Cool Hair Prize",
    513811056: "Everything Ramen",
    515130055: "Noko Dung",
    515595045: "Hat Trophy",
    541504394: "★Evening Cicada",
    561480000: "Old Man Undies",
    562354621: "★Turtle",
    573954073: "Diamond Coin",
    626531328: "Topaz Coin",
    635227553: "Meow Trophy",
    639255897: "Watch Screw",
    651688212: "Topaz",
    652811684: "Anglerfish",
    657160083: "Flower Scarab",
    671904038: "Cracked Crystal",
    680099743: "Frost Charm",
    718258630: "Ice Ring",
    721896851: "Rare Model Kit",
    737141852: "Empty Can",
    738460461: "Reversword",
    745177482: "Typhoon Fan",
    746725445: "Plastic Bag",
    767977754: "Sticker of Hate",
    794932543: "Plain Ring",
    799803762: "Pretty Rib",
    823607399: "Opal",
    840725714: "Horse Trophy",
    846394997: "Tough Bell",
    867212354: "Iron Plates",
    878583540: "Black Syrup",
    884552862: "Lunar Ring",
    896643275: "Katana Trophy",
    897277609: "Sun Bracelet",
    917977139: "Vault Key",
    922716871: "Galaxy Charm",
    926802160: "Meteor Badge",
    950003964: "Mackerel",
    962429643: "Grasshopper",
    973525097: "Heavenly Sash",
    1002748510: "Cheery Coat",
    1019739360: "Mochi Trophy",
    1022733316: "Bamboo Shoot",
    1024424117: "Lightning Ring",
    1043351250: "Evening Cicada",
    1051923037: "Beef Tongue",
    1052974639: "Topaz Bell",
    1057059864: "Blossoming Powder",
    1061799660: "Bolt Charm",
    1064401002: "Fresh Urchin",
    1072835813: "Giant Huchen",
    1077596262: "Fiend Badge",
    1100797588: "Restraint Belt",
    1102055589: "Photo of Amy",
    1106819665: "Fiend Charm",
    1108869882: "Cicada Sword",
    1115062365: "Wrinkly Trophy",
    1115450943: "Fiend Band",
    1136526344: "Fiend Ring",
    1138387149: "Ritzy Studs",
    1152888020: "Thick Specs",
    1154727953: "Rusty Ring",
    1158785574: "Worn Bangle",
    1159414852: "Granny Trophy",
    1165346531: "Speed Bell",
    1175482609: "Tourmaline",
    1184202312: "Aged Charm",
    1196889215: "Simple Badge",
    1208370318: "Bug Net",
    1213134458: "Quake Charm",
    1215711484: "Yellowtail",
    1224023155: "Black Bass",
    1228371524: "Brown Cicada",
    1236542155: "Slab Bacon",
    1237593785: "Diamond Bell",
    1242056739: "Earth Ring",
    1270926454: "Cicada Trophy",
    1274190994: "Cucumber",
    1287883464: "Nail Bat",
    1291968767: "Ski Mask",
    1314566749: "Sawtooth Stag",
    1319758496: "Sapphire Bell",
    1332445335: "Yo-kai Watch",
    1335416938: "Snakehead",
    1345079045: "Long-Horn",
    1360885199: "Old Mansion Key",
    1372637570: "Aquamarine",
    1374563634: "Firefly Squid",
    1381969046: "Ruby Coin",
    1390148919: "Hunger Trophy",
    1450226134: "Bicycle",
    1451485483: "Beakfish",
    1463911196: "★Brown Cicada",
    1483113897: "Yellowed Sash",
    1487616484: "School Keys",
    1522620812: "Vampiric Fangs",
    1526936507: "Turnabeads",
    1533915420: "Illusion Blade",
    1535447251: "Used Firework",
    1542021309: "Special Coin",
    1543533829: "Faded Idol Pic",
    1558762698: "Idol Poster",
    1573450064: "Wind Ring",
    1594573232: "Tattered Gauntlet",
    1603161865: "Storm Charm",
    1626185653: "Kids' Trophy",
    1646575927: "Li'l Angel Heals",
    1663768397: "Soccer Ball",
    1665801807: "Mega Exporb",
    1675120560: "★Beakfish",
    1676061440: "Unbeatable Soul",
    1682363220: "Cracked Plate",
    1683291125: "Pot Stickers",
    1703009444: "Speed Talisman",
    1744901140: "10-Cent Gum",
    1767625630: "Wild Trophy",
    1773367889: "Noko Skin",
    1773956019: "Stilt Trophy",
    1774419491: "Milk",
    1783081549: "Sandwich",
    1783686955: "Love Buster",
    1788697446: "Shiny Idol Pic",
    1803927674: "Plum Rice Ball",
    1804766492: "Skill Compendium",
    1821141158: "Y-Cola",
    1831497300: "Curry Bread",
    1833829009: "Hamburger",
    1849038727: "Bird Trophy",
    1858787071: "Ramen Cup",
    1859235754: "Comedy Trophy",
    1860089416: "Frog Anatomy",
    1869402125: "Shaved Ice",
    1883300575: "Kappa Trophy",
    1890015986: "Demon Trophy",
    1890075408: "Plastic Bottle",
    1934349930: "Shard of Evil",
    1938188839: "Comic Book",
    1944721993: "Purple Coin",
    1948652147: "Love Scepter",
    1955061328: "Orange Coin",
    1977907268: "The Pest's Quest",
    1999447750: "Sack Trophy",
    2009433865: "Dusty Charm",
    2009767659: "Triclops Trophy",
    2046209780: "Snake Trophy",
    2049975820: "Leadoni Wheel",
    2059632369: "★Snakehead",
    2063440449: "Dingy Scale",
    2063668422: "★Praying Mantis",
    2087506143: "★Long-Horn",
    2103304725: "Watch Spring",
    2108603112: "★Marlin",
}

def main(file):
    with open(file, "rb") as f:
        print("=== Player ===")
        f.seek(0x28, 0)
        name = f.read(0x10).split(b"\x00")[0]
        try:
            name = name.decode("utf-8")
        except UnicodeDecodeError:
            name = name.decode("cp932")
        print("name: {}".format(name))
        f.seek(0x73CC, 0)
        money = struct.unpack("<I", f.read(4))[0]
        print("money: {}".format(money))
        print("=== Items ===")
        f.seek(0x05F0, 0)
        while True:
            item_id, count = struct.unpack("<4x i I", f.read(0x0C))
            if item_id == 0:
                break
            print(items[item_id], count)

        print("=== Equipments ===")
        f.seek(0x11FC, 0)
        while True:
            item_id, count = struct.unpack("<4x i I 4x", f.read(0x10))
            if item_id == 0:
                break
            print(items[item_id], count)

        print("=== Key Items ===")
        f.seek(0x1848, 0)
        while True:
            item_id = struct.unpack("<4x i", f.read(0x08))[0]
            if item_id == 0:
                break
            print(items[item_id])

        print("=== Yo-kai ===")
        f.seek(0x1D08, 0)
        for i in range(240):
            params = struct.unpack("<4x i 16s 40x 5b 5B 5b 5x B 3x 2x H", f.read(0x5C))
            if params[0] == 0:
                continue
            try:
                name = params[1].decode("utf-8")
            except UnicodeDecodeError:
                name = params[1].decode("cp932")
            if name[0] == "\x00":
                name = " "
            else:
                name = " ({}) ".format(name)
            print("{}{}Lv.{}\n IV_A:   {}\n IV_B_1: {}\n IV_B_2: {}\n EV:     {}\n rawEV:  {}".format(
                    youkai.get(params[0], "(none)"),
                    name,
                    params[-2],
                    "-".join([str(x) for x in params[2:7]]),
                    "-".join([str(x) for x in [x & 0xf for x in params[7:12]]]),
                    "-".join([str(x) for x in [(x & 0xf0) >> 4 for x in params[7:12]]]),
                    "-".join([str(x) for x in params[12:17]]),
                    params[-1]
                )
            )
        print("=== Medallium ===")
        print("No. seen befriended new photo")
        stats = []
        f.seek(0x04BC, 0)
        for i in range(32 * 8):
            if i % 8 == 0:
                b = struct.unpack("B", f.read(1))[0]
            if b & (1 << (i % 8)):
                stats.append([True,])
            else:
                stats.append([False,])
        for i in range(32 * 8):
            if i % 8 == 0:
                b = struct.unpack("B", f.read(1))[0]
            if b & (1 << (i % 8)):
                stats[i].append(True)
            else:
                stats[i].append(False)
        for i in range(32 * 8):
            if i % 8 == 0:
                b = struct.unpack("B", f.read(1))[0]
            if b & (1 << (i % 8)):
                stats[i].append(True)
            else:
                stats[i].append(False)
        for i in range(32 * 8):
            if i % 8 == 0:
                b = struct.unpack("B", f.read(1))[0]
            if b & (1 << (i % 8)):
                stats[i].append(True)
            else:
                stats[i].append(False)

        for i in range(1, 32 * 8):
            print("{:03d} {} {} {} {}".format(i, *stats[i]))

def allThornyan(file, code=-1952990963):
    print("=== Yo-kai ===")
    data = open(file, "rb").read()
    data = bytearray(data)
    pos = 0x1D08
    for i in range(240):
        params = struct.unpack("<4x i 56x 5b 5B 5b 5x B 3x 2x H", data[pos:pos+0x5C])
        if params[0] == 0:
            continue
        print("{} -> {}".format(
                youkai.get(params[0], "(unknown)"),
                youkai.get(code, "(unknown)"),
            )
        )
        struct.pack_into("<i", data, pos + 4, code)
        pos += 0x5C
    with open(file + ".edited.ywd", "w+b") as f: #xb
        f.write(data)

if __name__ == "__main__":
    parser = argparse.ArgumentParser()
    parser.add_argument("--thornyan", action="store_true")
    parser.add_argument("file")
    args = parser.parse_args()
    if args.thornyan:
        allThornyan(args.file)
    else:
        main(args.file)
